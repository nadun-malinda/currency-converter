(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{127:function(e,n,t){e.exports={CountrySearch:"CountrySearch_CountrySearch__1JgHu","fade-in-right":"CountrySearch_fade-in-right__2sxBn","fade-in-left":"CountrySearch_fade-in-left__3egVr"}},130:function(e,n,t){e.exports={Error:"Error_Error__3-Mo_"}},131:function(e,n,t){e.exports={Converter:"Converter_Converter__kXvoh","fade-in-left":"Converter_fade-in-left__UDJOL","fade-in-right":"Converter_fade-in-right__2FCe3"}},143:function(e,n,t){},246:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(30),s=t.n(a),o=(t(143),t(23)),i=(t(144),t(249)),l=t(248),u=t(89),j=t.n(u),d=t(6),b=function(e){var n=e.children;return Object(d.jsx)(l.a,{span:24,md:{span:11},children:n})},O=function(e){var n=e.children;return Object(d.jsx)(l.a,{span:24,md:{span:11},children:n})},f=function(e){var n=e.left,t=e.right;return Object(d.jsx)("div",{className:j.a.Main,children:Object(d.jsxs)(i.a,{className:j.a.Row,children:[Object(d.jsx)(b,{children:n}),Object(d.jsx)(l.a,{span:0,md:{span:2}}),Object(d.jsx)(O,{children:t})]})})},h=t(250),x=t(81),m=t(55),p=t(65),v=t.n(p),y=v.a.create({baseURL:"https://restcountries.eu/rest/v2/"}),_=v.a.create({baseURL:"http://data.fixer.io/api",params:{access_key:"90b7b40b0ae5a4b2cdbb4cac2a407b63"}}),g="SEND",C="RESPONSE",S="ERROR",N={loading:!1,error:null,data:null},E=function(e,n){switch(n.type){case g:return{loading:!0,error:null,data:null};case C:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,data:n.data});case S:return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:n.errorMsg});default:return e}},F=function(){var e=Object(r.useReducer)(E,N),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({type:g}),new Promise((function(t,r){y.get(e,{params:n}).then((function(e){c({type:C,data:e.data}),t(e.data)})).catch((function(e){c({type:S,errorMsg:"No data found!"}),r(null)}))}))}),[]),s=Object(r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({type:g}),new Promise((function(t,r){_.get(e,{params:n}).then((function(e){c({type:C,data:e.data}),t(e.data)})).catch((function(e){c({type:S,errorMsg:"Something went wrong!"}),r(null)}))}))}),[]);return{loading:t.loading,error:t.error,data:t.data,getCurrencyExchange:s,getCountries:a}},w=function(e,n){var t=Object(r.useState)(e),c=Object(o.a)(t,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){s(e)}),n);return function(){return clearTimeout(t)}}),[e,n]),a},I=t(91),R=t.n(I),D=function(e){var n=e.onSelectCountry,t=e.onSearchError,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(r.useState)([]),u=Object(o.a)(l,2),j=u[0],b=u[1],O=Object(r.useRef)(),f=F(),m=f.error,p=f.getCountries,v=w(s,500);Object(r.useEffect)((function(){m&&(b([]),t(m))}),[m,t]),Object(r.useEffect)((function(){if(""!==v){if(v){var e="".concat(v,"?fields=name;capital;currencies;population");p("/name/".concat(e)).then((function(e){b(e.map((function(e){return{value:e.name,data:e}})))}))}}else b([])}),[v,p]);return Object(d.jsxs)("div",{className:R.a.Search,children:[Object(d.jsx)(x.a,{className:R.a.SearchIcon}),Object(d.jsx)(h.a,{ref:O,size:"large",value:s,options:j,allowClear:!0,style:{width:"100%"},onSelect:function(e,t){var r=t.data;n(r)},onChange:function(e){i(e||"")},placeholder:"Search for a country"})]})},M=t(252),k=t(50),P=t(92),L=t.n(P),T=function(e){var n=e.countryData,t=e.error;return Object(d.jsx)("div",{className:L.a.Details,children:Object.keys(n).length>0?function(){var e;return Object(d.jsxs)("ul",{className:L.a.List,children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Name:"}),Object(d.jsx)("p",{children:n.name})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Capital:"}),Object(d.jsx)("p",{children:n.capital})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Population:"}),Object(d.jsx)(M.a,{value:n.population})]}),Object(d.jsxs)("li",{children:[Object(d.jsxs)("label",{children:[n.currencies.length>1?"Currencies":"Currency",":"]}),Object(d.jsx)("p",{children:null===(e=n.currencies)||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})]})]})}():Object(d.jsx)(k.a,{description:t||"Search and select a country to see details and convert currencies"})})};T.defaultProps={countryData:{},error:null};var V=T,J=t(127),A=t.n(J),B=function(e){var n=e.onSetCurrencies,t=Object(r.useState)({}),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(null),l=Object(o.a)(i,2),u=l[0],j=l[1],b=Object(r.useCallback)((function(e){s(e),n(e.currencies)}),[n]),O=Object(r.useCallback)((function(e){j(e)}),[]);return Object(d.jsxs)("div",{className:A.a.CountrySearch,children:[Object(d.jsx)(D,{onSelectCountry:b,onSearchError:O}),Object(d.jsx)(V,{countryData:a,error:u})]})},G=t(42),U=t(93),Z=t.n(U),z=function(e,n){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(M.a,{value:e}),Object(d.jsx)("span",{className:Z.a.Currency,children:n})]})},H=c.a.memo((function(e){var n=e.loading,t=e.rate,r=e.currency;return Object(d.jsxs)("div",{className:Z.a.Display,children:[Object(d.jsx)("h3",{children:"Exchange Rate"}),Object(d.jsx)("h1",{children:n?Object(d.jsx)(G.a,{style:{fontSize:24},spin:!0}):z(t,r)})]})}));H.defaultProps={currency:null};var q=H,K=t(82),W=t(251),X=t(254),Q=t(134),Y=t(255),$=t(49),ee=t.n($),ne="SEK",te=K.a.Option,re=function(e){var n=e.formRef,t=e.amount,r=e.currency,c=e.currencies,a=e.setAmount,s=e.setCurrency,o=e.onConvert,u=e.loading;return Object(d.jsxs)(W.a,{ref:n,initialValues:{fromCurrency:ne},className:ee.a.Form,onFinish:o,children:[Object(d.jsx)(i.a,{children:Object(d.jsxs)(l.a,{span:24,children:[Object(d.jsx)("label",{children:"Amount"}),Object(d.jsx)(W.a.Item,{name:"amount",children:Object(d.jsx)(X.a,{type:"number",value:t,min:0,step:"any",allowClear:!0,onChange:function(e){return n=e.target.value,void a(Number(n));var n},disabled:!r})})]})}),Object(d.jsxs)(i.a,{children:[Object(d.jsxs)(l.a,{span:9,children:[Object(d.jsx)("label",{children:"From"}),Object(d.jsx)(W.a.Item,{name:"fromCurrency",children:Object(d.jsx)(K.a,{disabled:!0,showArrow:!1,className:ee.a.Select,children:Object(d.jsx)(te,{value:ne,children:ne})})})]}),Object(d.jsx)(l.a,{span:6,className:ee.a.MiddleIcon,children:Object(d.jsx)(Y.a,{className:ee.a.Icon})}),Object(d.jsxs)(l.a,{span:9,children:[Object(d.jsx)("label",{children:"To"}),Object(d.jsx)(W.a.Item,{name:"toCurrency",children:Object(d.jsx)(K.a,{value:r,options:c.map((function(e){return{value:e.code}})),onChange:function(e){return s(e)},disabled:!r,className:ee.a.Select})})]})]}),Object(d.jsx)(i.a,{children:Object(d.jsx)(l.a,{span:24,children:Object(d.jsx)(W.a.Item,{name:"convert",children:Object(d.jsx)(Q.a,{type:"primary",htmlType:"submit",block:!0,disabled:!(t>0)||null===r,loading:u,children:"CONVERT"})})})})]})};re.defaultProps={currency:null,currencies:[],loading:!1};var ce=re,ae=t(253),se=t(130),oe=t.n(se),ie=function(e){var n=e.message;return Object(d.jsx)(ae.a,{className:oe.a.Error,message:n,type:"error",showIcon:!0,closable:!0})},le=t(131),ue=t.n(le),je=function(e){var n=e.currencies,t=Object(r.useState)(0),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(null),l=Object(o.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(0),O=Object(o.a)(b,2),f=O[0],h=O[1],x=Object(r.useRef)(null),m=F(),p=m.loading,v=m.error,y=m.getCurrencyExchange;Object(r.useEffect)((function(){n.length>0?(x.current.setFieldsValue({toCurrency:n[0].code}),j(n[0].code)):(x.current.setFieldsValue({toCurrency:null}),j(null))}),[n]),Object(r.useEffect)((function(){_()}),[u]);var _=function(){x.current.setFieldsValue({amount:0}),s(0),h(0)};return Object(d.jsxs)("div",{className:ue.a.Converter,children:[Object(d.jsx)(q,{loading:p,rate:f,currency:u}),Object(d.jsx)(ce,{formRef:x,amount:a,currency:u,currencies:n,setAmount:s,setCurrency:j,onConvert:function(e){var n=e.toCurrency,t={symbols:"".concat(n,",").concat(ne)};y("/latest",t).then((function(e){var n=e.rates,t=function(e,n,t,r){var c=e*n[t]/n[r];return c=Math.round(100*c)/100,isNaN(c)?0:c}(a,n,u,ne);h(t)}))},loading:p}),v&&Object(d.jsx)(ie,{message:v})]})};je.defaultProps={currencies:[]};var de=je;var be=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useCallback)((function(e){c(e)}),[]);return Object(d.jsx)(f,{left:Object(d.jsx)(B,{onSetCurrencies:a}),right:Object(d.jsx)(de,{currencies:t})})},Oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,256)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(be,{})}),document.getElementById("root")),Oe()},49:function(e,n,t){e.exports={Form:"ConvertForm_Form__Vuas2",MiddleIcon:"ConvertForm_MiddleIcon__1GdWI",Icon:"ConvertForm_Icon__3cfuk",Select:"ConvertForm_Select__1qdkb"}},89:function(e,n,t){e.exports={Main:"Main_Main__1jIw0",Row:"Main_Row__fZufZ"}},91:function(e,n,t){e.exports={Search:"Search_Search__ZFoGN",SearchIcon:"Search_SearchIcon__2asig"}},92:function(e,n,t){e.exports={Details:"Details_Details__2D6bf",List:"Details_List__2l88G"}},93:function(e,n,t){e.exports={Display:"Display_Display__1lwOm",Currency:"Display_Currency__RJR9H"}}},[[246,1,2]]]);
//# sourceMappingURL=main.10fc0d57.chunk.js.map