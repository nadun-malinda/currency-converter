(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{127:function(e,t,n){e.exports={CountrySearch:"CountrySearch_CountrySearch__1JgHu","fade-in-right":"CountrySearch_fade-in-right__2sxBn","fade-in-left":"CountrySearch_fade-in-left__3egVr"}},130:function(e,t,n){e.exports={Error:"Error_Error__3-Mo_"}},131:function(e,t,n){e.exports={Converter:"Converter_Converter__kXvoh","fade-in-left":"Converter_fade-in-left__UDJOL","fade-in-right":"Converter_fade-in-right__2FCe3"}},143:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(30),s=n.n(a),o=(n(143),n(23)),i=(n(144),n(249)),u=n(248),l=n(90),j=n.n(l),d=n(6),b=function(e){var t=e.children;return Object(d.jsx)(u.a,{span:24,md:{span:11},children:t})},O=function(e){var t=e.children;return Object(d.jsx)(u.a,{span:24,md:{span:11},children:t})},f=function(e){var t=e.left,n=e.right;return Object(d.jsx)("div",{className:j.a.Main,children:Object(d.jsxs)(i.a,{className:j.a.Row,children:[Object(d.jsx)(b,{children:t}),Object(d.jsx)(u.a,{span:0,md:{span:2}}),Object(d.jsx)(O,{children:n})]})})},h=n(250),m=n(81),x=n(55),p=n(65),v=n.n(p),y=v.a.create({baseURL:"https://restcountries.eu/rest/v2/"}),_=v.a.create({baseURL:"http://data.fixer.io/api",params:{access_key:"90b7b40b0ae5a4b2cdbb4cac2a407b63"}}),g="SEND",C="RESPONSE",S="ERROR",N={loading:!1,error:null,data:[]},E=function(e,t){switch(t.type){case g:return{loading:!0,error:null,data:[]};case C:return Object(x.a)(Object(x.a)({},e),{},{loading:!1,data:t.data});case S:return Object(x.a)(Object(x.a)({},e),{},{loading:!1,error:t.errorMsg});default:return e}},R=function(){var e=Object(r.useReducer)(E,N),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({type:g}),new Promise((function(n,r){y.get(e,{params:t}).then((function(e){c({type:C,data:e.data}),n(e.data)})).catch((function(e){c({type:S,errorMsg:"No data found!"}),n([])}))}))}),[]),s=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({type:g}),new Promise((function(n,r){_.get(e,{params:t}).then((function(e){e.data.rates?(c({type:C,data:e.data}),n(e.data.rates)):(c({type:S,errorMsg:"Something went wrong!"}),n([]))})).catch((function(e){c({type:S,errorMsg:"Something went wrong!"}),n([])}))}))}),[]);return{loading:n.loading,error:n.error,data:n.data,getCurrencyExchange:s,getCountries:a}},w=function(e,t){var n=Object(r.useState)(e),c=Object(o.a)(n,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){s(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),a},F=n(92),D=n.n(F),I=function(e){var t=e.onSelectCountry,n=e.onSearchError,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],i=a[1],u=Object(r.useState)([]),l=Object(o.a)(u,2),j=l[0],b=l[1],O=Object(r.useRef)(),f=R(),x=f.error,p=f.getCountries,v=w(s,500);Object(r.useEffect)((function(){x&&(b([]),n(x))}),[x,n]),Object(r.useEffect)((function(){if(""!==v){if(v){var e="".concat(v,"?fields=name;capital;currencies;population");p("/name/".concat(e)).then((function(e){b(e.map((function(e){return{value:e.name,data:e}})))}))}}else b([])}),[v,p]);return Object(d.jsxs)("div",{className:D.a.Search,children:[Object(d.jsx)(m.a,{className:D.a.SearchIcon}),Object(d.jsx)(h.a,{ref:O,size:"large",value:s,options:j,allowClear:!0,style:{width:"100%"},onSelect:function(e,n){var r=n.data;t(r)},onChange:function(e){i(e||"")},placeholder:"Search for a country"})]})},M=n(252),k=n(50),P=n(93),L=n.n(P),T=function(e){var t=e.countryData,n=e.error;return Object(d.jsx)("div",{className:L.a.Details,children:Object.keys(t).length>0?function(){var e;return Object(d.jsxs)("ul",{className:L.a.List,children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Name:"}),Object(d.jsx)("p",{children:t.name})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Capital:"}),Object(d.jsx)("p",{children:t.capital})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Population:"}),Object(d.jsx)(M.a,{value:t.population})]}),Object(d.jsxs)("li",{children:[Object(d.jsxs)("label",{children:[t.currencies.length>1?"Currencies":"Currency",":"]}),Object(d.jsx)("p",{children:null===(e=t.currencies)||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})]})]})}():Object(d.jsx)(k.a,{description:n||"Search and select a country to see details and convert currencies"})})};T.defaultProps={countryData:{},error:null};var V=T,J=n(127),A=n.n(J),B=function(e){var t=e.onSetCurrencies,n=Object(r.useState)({}),c=Object(o.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(null),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(r.useCallback)((function(e){s(e),t(e.currencies)}),[t]),O=Object(r.useCallback)((function(e){j(e)}),[]);return Object(d.jsxs)("div",{className:A.a.CountrySearch,children:[Object(d.jsx)(I,{onSelectCountry:b,onSearchError:O}),Object(d.jsx)(V,{countryData:a,error:l})]})},W=n(42),Z=n(82),G=n.n(Z),U=function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(M.a,{value:e}),Object(d.jsx)("span",{className:G.a.Currency,children:t})]})},z=c.a.memo((function(e){var t=e.loading,n=e.rate,r=e.currency;return Object(d.jsxs)("div",{className:G.a.Display,children:[Object(d.jsx)("h3",{children:"Exchange Rate"}),Object(d.jsx)("div",{className:G.a.RateCurrencyWrap,children:t?Object(d.jsx)(W.a,{style:{fontSize:24},spin:!0}):U(n,r)})]})}));z.defaultProps={currency:null};var H=z,q=n(83),K=n(251),X=n(254),Q=n(134),Y=n(255),$=n(49),ee=n.n($),te="SEK",ne=q.a.Option,re=function(e){var t=e.formRef,n=e.amount,r=e.currency,c=e.currencies,a=e.setAmount,s=e.setCurrency,o=e.onConvert,l=e.loading;return Object(d.jsxs)(K.a,{ref:t,initialValues:{fromCurrency:te},className:ee.a.Form,onFinish:o,children:[Object(d.jsx)(i.a,{children:Object(d.jsxs)(u.a,{span:24,children:[Object(d.jsx)("label",{children:"Amount"}),Object(d.jsx)(K.a.Item,{name:"amount",children:Object(d.jsx)(X.a,{type:"number",value:n,min:0,step:"any",allowClear:!0,onChange:function(e){return t=e.target.value,void a(Number(t));var t},disabled:!r})})]})}),Object(d.jsxs)(i.a,{children:[Object(d.jsxs)(u.a,{span:9,children:[Object(d.jsx)("label",{children:"From"}),Object(d.jsx)(K.a.Item,{name:"fromCurrency",children:Object(d.jsx)(q.a,{disabled:!0,showArrow:!1,className:ee.a.Select,children:Object(d.jsx)(ne,{value:te,children:te})})})]}),Object(d.jsx)(u.a,{span:6,className:ee.a.MiddleIcon,children:Object(d.jsx)(Y.a,{className:ee.a.Icon})}),Object(d.jsxs)(u.a,{span:9,children:[Object(d.jsx)("label",{children:"To"}),Object(d.jsx)(K.a.Item,{name:"toCurrency",children:Object(d.jsx)(q.a,{value:r,options:c.map((function(e){return{value:e.code}})),onChange:function(e){return s(e)},disabled:!r,className:ee.a.Select})})]})]}),Object(d.jsx)(i.a,{children:Object(d.jsx)(u.a,{span:24,children:Object(d.jsx)(K.a.Item,{name:"convert",children:Object(d.jsx)(Q.a,{type:"primary",htmlType:"submit",block:!0,disabled:!(n>0)||null===r,loading:l,children:"CONVERT"})})})})]})};re.defaultProps={currency:null,currencies:[],loading:!1};var ce=re,ae=n(253),se=n(130),oe=n.n(se),ie=function(e){var t=e.message;return Object(d.jsx)(ae.a,{className:oe.a.Error,message:t,type:"error",showIcon:!0,closable:!0})},ue=n(131),le=n.n(ue),je=function(e){var t=e.currencies,n=Object(r.useState)(0),c=Object(o.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(null),u=Object(o.a)(i,2),l=u[0],j=u[1],b=Object(r.useState)(0),O=Object(o.a)(b,2),f=O[0],h=O[1],m=Object(r.useRef)(null),x=R(),p=x.loading,v=x.error,y=x.getCurrencyExchange;Object(r.useEffect)((function(){t.length>0?(m.current.setFieldsValue({toCurrency:t[0].code}),j(t[0].code)):(m.current.setFieldsValue({toCurrency:null}),j(null))}),[t]),Object(r.useEffect)((function(){_()}),[l]);var _=function(){m.current.setFieldsValue({amount:0}),s(0),h(0)};return Object(d.jsxs)("div",{className:le.a.Converter,children:[Object(d.jsx)(H,{loading:p,rate:f,currency:l}),Object(d.jsx)(ce,{formRef:m,amount:a,currency:l,currencies:t,setAmount:s,setCurrency:j,onConvert:function(e){var t=e.toCurrency,n={symbols:"".concat(t,",").concat(te)};y("/latest",n).then((function(e){var t=function(e,t,n,r){var c=e*t[n]/t[r];return c=Math.round(100*c)/100,isNaN(c)?0:c}(a,e,l,te);h(t)}))},loading:p}),v&&Object(d.jsx)(ie,{message:v})]})};je.defaultProps={currencies:[]};var de=je;var be=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useCallback)((function(e){c(e)}),[]);return Object(d.jsx)(f,{left:Object(d.jsx)(B,{onSetCurrencies:a}),right:Object(d.jsx)(de,{currencies:n})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(be,{})}),document.getElementById("root")),Oe()},49:function(e,t,n){e.exports={Form:"ConvertForm_Form__Vuas2",MiddleIcon:"ConvertForm_MiddleIcon__1GdWI",Icon:"ConvertForm_Icon__3cfuk",Select:"ConvertForm_Select__1qdkb"}},82:function(e,t,n){e.exports={Display:"Display_Display__1lwOm",RateCurrencyWrap:"Display_RateCurrencyWrap__3ZB7e",Currency:"Display_Currency__RJR9H"}},90:function(e,t,n){e.exports={Main:"Main_Main__1jIw0",Row:"Main_Row__fZufZ"}},92:function(e,t,n){e.exports={Search:"Search_Search__ZFoGN",SearchIcon:"Search_SearchIcon__2asig"}},93:function(e,t,n){e.exports={Details:"Details_Details__2D6bf",List:"Details_List__2l88G"}}},[[246,1,2]]]);
//# sourceMappingURL=main.2934d9e9.chunk.js.map