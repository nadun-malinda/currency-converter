(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{127:function(e,n,t){e.exports={CountrySearch:"CountrySearch_CountrySearch__1JgHu","fade-in-right":"CountrySearch_fade-in-right__2sxBn","fade-in-left":"CountrySearch_fade-in-left__3egVr"}},130:function(e,n,t){e.exports={Error:"Error_Error__3-Mo_"}},131:function(e,n,t){e.exports={Converter:"Converter_Converter__kXvoh","fade-in-left":"Converter_fade-in-left__UDJOL","fade-in-right":"Converter_fade-in-right__2FCe3"}},143:function(e,n,t){},246:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(30),s=t.n(a),o=(t(143),t(23)),i=(t(144),t(249)),l=t(248),u=t(88),j=t.n(u),d=t(6),b=function(e){var n=e.children;return Object(d.jsx)(l.a,{span:24,md:{span:11},children:n})},O=function(e){var n=e.children;return Object(d.jsx)(l.a,{span:24,md:{span:11},children:n})},h=function(e){var n=e.left,t=e.right;return Object(d.jsx)("div",{className:j.a.Main,children:Object(d.jsxs)(i.a,{className:j.a.Row,children:[Object(d.jsx)(b,{children:n}),Object(d.jsx)(l.a,{span:0,md:{span:2}}),Object(d.jsx)(O,{children:t})]})})},f=t(250),m=t(80),x=t(94),p=t(64),v=t.n(p),y=v.a.create({baseURL:"https://restcountries.eu/rest/v2/"}),_=v.a.create({baseURL:"http://data.fixer.io/api",params:{access_key:"90b7b40b0ae5a4b2cdbb4cac2a407b63"}}),g={loading:!1,error:null,data:null},C=function(e,n){switch(n.type){case"SEND":return{loading:!0,error:null,data:null};case"RESPONSE":return Object(x.a)(Object(x.a)({},e),{},{loading:!1,data:n.data});case"ERROR":return{loading:!1,error:n.errorMsg};default:return e}},S=function(){var e=Object(r.useReducer)(C,g),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({type:"SEND"}),new Promise((function(t,r){y.get(e,{params:n}).then((function(e){c({type:"RESPONSE",data:e.data}),t(e.data)})).catch((function(e){c({type:"ERROR",errorMsg:"No data found!"}),r(null)}))}))}),[]),s=Object(r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c({type:"SEND"}),new Promise((function(t,r){_.get(e,{params:n}).then((function(e){c({type:"RESPONSE",data:e.data}),t(e.data)})).catch((function(e){c({type:"ERROR",errorMsg:"Something went wrong!"}),r(null)}))}))}),[]);return{loading:t.loading,error:t.error,data:t.data,getCurrencyExchange:s,getCountries:a}},E=function(e,n){var t=Object(r.useState)(e),c=Object(o.a)(t,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){s(e)}),n);return function(){return clearTimeout(t)}}),[e,n]),a},N=t(90),R=t.n(N),F=function(e){var n=e.onSelectCountry,t=e.onSearchError,c=Object(r.useState)(""),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(r.useState)([]),u=Object(o.a)(l,2),j=u[0],b=u[1],O=S(),h=O.error,x=O.getCountries,p=Object(r.useRef)(),v=E(s,500);Object(r.useEffect)((function(){h&&(b([]),t(h))}),[h,t]),Object(r.useEffect)((function(){if(""!==v){if(v){var e="".concat(v,"?fields=name;capital;currencies;population");x("/name/".concat(e)).then((function(e){b(e.map((function(e){return{value:e.name,data:e}})))}))}}else b([])}),[v,x]);return Object(d.jsxs)("div",{className:R.a.Search,children:[Object(d.jsx)(m.a,{className:R.a.SearchIcon}),Object(d.jsx)(f.a,{ref:p,size:"large",value:s,options:j,allowClear:!0,style:{width:"100%"},onSelect:function(e,t){var r=t.data;n(r)},onChange:function(e){i(e||"")},placeholder:"Search for a country"})]})},D=t(252),w=t(50),I=t(91),M=t.n(I),k=function(e){var n=e.countryData,t=e.error;return Object(d.jsx)("div",{className:M.a.Details,children:Object.keys(n).length>0?function(){var e;return Object(d.jsxs)("ul",{className:M.a.List,children:[Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Name:"}),Object(d.jsx)("p",{children:n.name})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Capital:"}),Object(d.jsx)("p",{children:n.capital})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Population:"}),Object(d.jsx)(D.a,{value:n.population})]}),Object(d.jsxs)("li",{children:[Object(d.jsxs)("label",{children:[n.currencies.length>1?"Currencies":"Currency",":"]}),Object(d.jsx)("p",{children:null===(e=n.currencies)||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")})]})]})}():Object(d.jsx)(w.a,{description:t||"Search and select a country to see details and convert currencies"})})};k.defaultProps={countryData:{},error:null};var P=k,L=t(127),V=t.n(L),T=function(e){var n=e.onSetCurrencies,t=Object(r.useState)({}),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(null),l=Object(o.a)(i,2),u=l[0],j=l[1],b=Object(r.useCallback)((function(e){s(e),n(e.currencies)}),[n]),O=Object(r.useCallback)((function(e){j(e)}),[]);return Object(d.jsxs)("div",{className:V.a.CountrySearch,children:[Object(d.jsx)(F,{onSelectCountry:b,onSearchError:O}),Object(d.jsx)(P,{countryData:a,error:u})]})},J=t(42),A=t(92),B=t.n(A),G=function(e,n){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(D.a,{value:e}),Object(d.jsx)("span",{className:B.a.Currency,children:n})]})},U=c.a.memo((function(e){var n=e.loading,t=e.rate,r=e.currency;return Object(d.jsxs)("div",{className:B.a.Display,children:[Object(d.jsx)("h3",{children:"Exchange Rate"}),Object(d.jsx)("h1",{children:n?Object(d.jsx)(J.a,{style:{fontSize:24},spin:!0}):G(t,r)})]})}));U.defaultProps={currency:null};var Z=U,z=t(81),H=t(251),q=t(254),K=t(134),W=t(255),X=t(49),Q=t.n(X),Y="SEK",$=z.a.Option,ee=function(e){var n=e.formRef,t=e.amount,r=e.currency,c=e.currencies,a=e.setAmount,s=e.setCurrency,o=e.onConvert,u=e.loading;return Object(d.jsxs)(H.a,{ref:n,initialValues:{fromCurrency:Y},className:Q.a.Form,onFinish:o,children:[Object(d.jsx)(i.a,{children:Object(d.jsxs)(l.a,{span:24,children:[Object(d.jsx)("label",{children:"Amount"}),Object(d.jsx)(H.a.Item,{name:"amount",children:Object(d.jsx)(q.a,{type:"number",value:t,min:0,step:"any",allowClear:!0,onChange:function(e){return a(Number(e.target.value))},disabled:!r})})]})}),Object(d.jsxs)(i.a,{children:[Object(d.jsxs)(l.a,{span:9,children:[Object(d.jsx)("label",{children:"From"}),Object(d.jsx)(H.a.Item,{name:"fromCurrency",children:Object(d.jsx)(z.a,{disabled:!0,showArrow:!1,className:Q.a.Select,children:Object(d.jsx)($,{value:Y,children:Y})})})]}),Object(d.jsx)(l.a,{span:6,className:Q.a.MiddleIcon,children:Object(d.jsx)(W.a,{className:Q.a.Icon})}),Object(d.jsxs)(l.a,{span:9,children:[Object(d.jsx)("label",{children:"To"}),Object(d.jsx)(H.a.Item,{name:"toCurrency",children:Object(d.jsx)(z.a,{value:r,options:c.map((function(e){return{value:e.code}})),onChange:function(e){return s(e)},disabled:!r,className:Q.a.Select})})]})]}),Object(d.jsx)(i.a,{children:Object(d.jsx)(l.a,{span:24,children:Object(d.jsx)(H.a.Item,{name:"convert",children:Object(d.jsx)(K.a,{type:"primary",htmlType:"submit",block:!0,disabled:!(t>0)||null===r,loading:u,children:"CONVERT"})})})})]})};ee.defaultProps={currency:null,currencies:[],loading:!1};var ne=ee,te=t(253),re=t(130),ce=t.n(re),ae=function(e){var n=e.message;return Object(d.jsx)(te.a,{className:ce.a.Error,message:n,type:"error",showIcon:!0,closable:!0})},se=t(131),oe=t.n(se),ie=function(e){var n=e.currencies,t=Object(r.useState)(0),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(null),l=Object(o.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(0),O=Object(o.a)(b,2),h=O[0],f=O[1],m=S(),x=m.loading,p=m.error,v=m.getCurrencyExchange,y=Object(r.useRef)(null);Object(r.useEffect)((function(){y.current.setFieldsValue({amount:0}),s(0),f(0),n.length>0?(y.current.setFieldsValue({toCurrency:n[0].code}),j(n[0].code)):(y.current.setFieldsValue({toCurrency:null}),j(null))}),[n]),Object(r.useEffect)((function(){y.current.setFieldsValue({amount:0}),s(0),f(0)}),[u]);return Object(d.jsxs)("div",{className:oe.a.Converter,children:[Object(d.jsx)(Z,{loading:x,rate:h,currency:u}),Object(d.jsx)(ne,{formRef:y,amount:a,currency:u,currencies:n,setAmount:s,setCurrency:j,onConvert:function(e){var n=e.toCurrency,t={symbols:"".concat(n,",").concat(Y)};v("/latest",t).then((function(e){var n=e.rates,t=function(e,n,t,r){var c=e*n[t]/n[r];return c=Math.round(100*c)/100,isNaN(c)?0:c}(a,n,u,Y);f(t)}))},loading:x}),p&&Object(d.jsx)(ae,{message:p})]})};ie.defaultProps={currencies:[]};var le=ie;var ue=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useCallback)((function(e){c(e)}),[]);return Object(d.jsx)(h,{left:Object(d.jsx)(T,{onSetCurrencies:a}),right:Object(d.jsx)(le,{currencies:t})})},je=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,256)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ue,{})}),document.getElementById("root")),je()},49:function(e,n,t){e.exports={Form:"ConvertForm_Form__Vuas2",MiddleIcon:"ConvertForm_MiddleIcon__1GdWI",Icon:"ConvertForm_Icon__3cfuk",Select:"ConvertForm_Select__1qdkb"}},88:function(e,n,t){e.exports={Main:"Main_Main__1jIw0",Row:"Main_Row__fZufZ"}},90:function(e,n,t){e.exports={Search:"Search_Search__ZFoGN",SearchIcon:"Search_SearchIcon__2asig"}},91:function(e,n,t){e.exports={Details:"Details_Details__2D6bf",List:"Details_List__2l88G"}},92:function(e,n,t){e.exports={Display:"Display_Display__1lwOm",Currency:"Display_Currency__RJR9H"}}},[[246,1,2]]]);
//# sourceMappingURL=main.a6edb454.chunk.js.map